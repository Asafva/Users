{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\New folder\\\\Frontend\\\\src\\\\Components\\\\ProductArea\\\\AddProduct\\\\AddProduct.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport { productAddedAction } from \"../../../Redux/ProductsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport \"./AddProduct.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddProduct() {\n  _s();\n\n  var _errors$gender, _errors$gender2, _errors$email, _errors$email2, _errors$phone;\n\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  async function addProduct(product) {\n    try {\n      const response = await axios.post(globals.productsUrl, ProductModel);\n      const addedProduct = response.data; // The added product in the backend.\n\n      store.dispatch(productAddedAction(addedProduct));\n      alert(\"Product has been added. ID: \" + addedProduct.login.username);\n      history.push(\"/products\"); // Go to that route!\n    } catch (err) {\n      alert(\"Error: \" + err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"AddProduct Box\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add new Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(addProduct),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        autoFocus: true,\n        ref: register({\n          required: true,\n          minLength: 3\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        step: \"0.01\",\n        ref: register({\n          required: true,\n          min: 0\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), ((_errors$gender = errors.gender) === null || _errors$gender === void 0 ? void 0 : _errors$gender.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Missing price.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 56\n      }, this), ((_errors$gender2 = errors.gender) === null || _errors$gender2 === void 0 ? void 0 : _errors$gender2.type) === \"min\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Price can't be negative.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Stock: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"stock\",\n        ref: register({\n          required: true,\n          min: 0\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), ((_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Missing stock.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 55\n      }, this), ((_errors$email2 = errors.email) === null || _errors$email2 === void 0 ? void 0 : _errors$email2.type) === \"min\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Stock can't be negative.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Image: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image\",\n        accept: \"image/*\",\n        ref: register({\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), ((_errors$phone = errors.phone) === null || _errors$phone === void 0 ? void 0 : _errors$phone.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Missing image.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 55\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddProduct, \"7ng0GsTxSTXaNCxOCHjEZjY8F0M=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = AddProduct;\nexport default AddProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/New folder/Frontend/src/Components/ProductArea/AddProduct/AddProduct.tsx"],"names":["axios","useForm","useHistory","ProductModel","productAddedAction","store","globals","AddProduct","history","register","handleSubmit","errors","addProduct","product","response","post","productsUrl","addedProduct","data","dispatch","alert","login","username","push","err","required","minLength","min","gender","type","email","phone"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport { productAddedAction } from \"../../../Redux/ProductsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport \"./AddProduct.css\";\n\nfunction AddProduct(): JSX.Element {\n\n    const history = useHistory();\n    const { register, handleSubmit, errors } = useForm<ProductModel>();\n\n    async function addProduct(product: ProductModel) {\n        try {\n            const response = await axios.post<ProductModel>(globals.productsUrl, ProductModel);\n            const addedProduct = response.data; // The added product in the backend.\n            store.dispatch(productAddedAction(addedProduct));\n            alert(\"Product has been added. ID: \" + addedProduct.login.username);\n            history.push(\"/products\"); // Go to that route!\n        }\n        catch (err) {\n            alert(\"Error: \" + err);\n        }\n    }\n\n    return (\n        <div className=\"AddProduct Box\">\n\n            <h2>Add new Product</h2>\n\n            <form onSubmit={handleSubmit(addProduct)}>\n\n                <label>Name: </label> <br />\n                <input type=\"text\" name=\"name\" autoFocus ref={register({ required: true, minLength: 3 })} />\n\n                <br /><br />\n\n                <label>Price: </label> <br />\n                <input type=\"number\" name=\"price\" step=\"0.01\" ref={register({ required: true, min: 0 })} />\n                {errors.gender?.type === \"required\" && <span>Missing price.</span>}\n                {errors.gender?.type === \"min\" && <span>Price can't be negative.</span>}\n                <br /><br />\n\n                <label>Stock: </label> <br />\n                <input type=\"number\" name=\"stock\" ref={register({ required: true, min: 0 })} />\n                {errors.email?.type === \"required\" && <span>Missing stock.</span>}\n                {errors.email?.type === \"min\" && <span>Stock can't be negative.</span>}\n                <br /><br />\n\n                <label>Image: </label> <br />\n                <input type=\"file\" name=\"image\" accept=\"image/*\" ref={register({ required: true })} />\n                {errors.phone?.type === \"required\" && <span>Missing image.</span>}\n                <br /><br />\n\n                <button>Add</button>\n\n            </form>\n\n        </div>\n    );\n}\n\nexport default AddProduct;\n"]},"metadata":{},"sourceType":"module"}