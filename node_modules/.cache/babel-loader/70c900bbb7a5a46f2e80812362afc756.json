{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\New folder\\\\Frontend\\\\src\\\\Components\\\\ProductArea\\\\ProductList\\\\ProductList.tsx\";\nimport { Add } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { productsDownloadedAction } from \"../../../Redux/ProductsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport PleaseWait from \"../../SharedArea/PleaseWait/PleaseWait\";\nimport ProductCard from \"../ProductCard/ProductCard\";\nimport \"./ProductList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: store.getState().productsState.products\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      if (this.state.products.length === 0) {\n        const response = await axios.get(globals.productsUrl); // response is a wrapper.\n\n        this.setState({\n          products: response.data.results\n        });\n        store.dispatch(productsDownloadedAction(response.data.results));\n      }\n    } catch (err) {\n      alert(\"Error\");\n      console.log(err);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ProductList\",\n      children: [this.state.products.length === 0 && /*#__PURE__*/_jsxDEV(PleaseWait, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 54\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        className: \"NewProduct\",\n        to: \"/products/new\",\n        exact: true,\n        children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), console.log(this.state.products), this.state.products.map(p => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: p\n      }, p.login.username, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 47\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["C:/Users/USER/Desktop/New folder/Frontend/src/Components/ProductArea/ProductList/ProductList.tsx"],"names":["Add","axios","Component","NavLink","productsDownloadedAction","store","globals","PleaseWait","ProductCard","ProductList","constructor","props","state","products","getState","productsState","componentDidMount","length","response","get","productsUrl","setState","data","results","dispatch","err","alert","console","log","render","map","p","login","username"],"mappings":";AAAA,SAASA,GAAT,QAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,kBAAxB;AAEA,SAASC,wBAAT,QAAyC,8BAAzC;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAO,mBAAP;;;AAMA,MAAMC,WAAN,SAA0BP,SAA1B,CAA0D;AAE/CQ,EAAAA,WAAW,CAACC,KAAD,EAAY;AAC1B,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAER,KAAK,CAACS,QAAN,GAAiBC,aAAjB,CAA+BF;AAA3C,KAAb;AACH;;AAE6B,QAAjBG,iBAAiB,GAAG;AAC7B,QAAI;AACA,UAAI,KAAKJ,KAAL,CAAWC,QAAX,CAAoBI,MAApB,KAA+B,CAAnC,EAAsC;AAClC,cAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAUb,OAAO,CAACc,WAAlB,CAAvB,CADkC,CACqB;;AAEvD,aAAKC,QAAL,CAAc;AAAER,UAAAA,QAAQ,EAAEK,QAAQ,CAACI,IAAT,CAAcC;AAA1B,SAAd;AACAlB,QAAAA,KAAK,CAACmB,QAAN,CAAepB,wBAAwB,CAACc,QAAQ,CAACI,IAAT,CAAcC,OAAf,CAAvC;AACH;AACJ,KAPD,CAQA,OAAOE,GAAP,EAAY;AACRC,MAAAA,KAAK,CAAC,OAAD,CAAL;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;AACJ;;AAEMI,EAAAA,MAAM,GAAgB;AACzB,wBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,iBAEK,KAAKjB,KAAL,CAAWC,QAAX,CAAoBI,MAApB,KAA+B,CAA/B,iBAAoC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cAFzC,eAII,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,YAAnB;AAAgC,QAAA,EAAE,EAAC,eAAnC;AAAmD,QAAA,KAAK,MAAxD;AAAA,+BACI,QAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ,EAOKU,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWC,QAAvB,CAPL,EAQK,KAAKD,KAAL,CAAWC,QAAX,CAAoBiB,GAApB,CAAwBC,CAAC,iBAAI,QAAC,WAAD;AAAa,QAAA,OAAO,EAAEA;AAAtB,SAA8BA,CAAC,CAACC,KAAF,CAAQC,QAAtC;AAAA;AAAA;AAAA;AAAA,cAA7B,CARL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH;;AAnCqD;;AAsC1D,eAAexB,WAAf","sourcesContent":["import { Add } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport ProductModel from \"../../../Models/ProductModel\";\nimport { productsDownloadedAction } from \"../../../Redux/ProductsState\";\nimport store from \"../../../Redux/Store\";\nimport globals from \"../../../Services/Globals\";\nimport PleaseWait from \"../../SharedArea/PleaseWait/PleaseWait\";\nimport ProductCard from \"../ProductCard/ProductCard\";\nimport \"./ProductList.css\";\n\ninterface ProductListState {\n    products: ProductModel[];\n}\n\nclass ProductList extends Component<{}, ProductListState> {\n\n    public constructor(props: {}) {\n        super(props);\n        this.state = { products: store.getState().productsState.products };\n    }\n\n    public async componentDidMount() {\n        try {\n            if (this.state.products.length === 0) {\n                const response = await axios.get(globals.productsUrl); // response is a wrapper.\n\n                this.setState({ products: response.data.results });\n                store.dispatch(productsDownloadedAction(response.data.results));\n            }\n        }\n        catch (err) {\n            alert(\"Error\");\n            console.log(err);\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <div className=\"ProductList\">\n\n                {this.state.products.length === 0 && <PleaseWait />}\n\n                <NavLink className=\"NewProduct\" to=\"/products/new\" exact>\n                    <Add />\n                </NavLink>\n                {console.log(this.state.products)}\n                {this.state.products.map(p => <ProductCard product={p} key={p.login.username} />)}\n            </div>\n        );\n    }\n}\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}